EOI EQU 20H
IMR EQU 21H
INT0 EQU 24H
INT1 EQU 25H

CONT EQU 10H
COMP EQU 11H

ORG 1000H
MSJ DB "BOCA LA CONCHA TU MADRE  "
nuevalinea db 13 ; con esto hacemos un salto de linea 
FIN DB ? 
FLAG DB 0
MSJ2 DB "ESTE PROGRAMA TERMINO COMO LA RELACION DE ELLA :("
FIN2 DB ?

ORG 3200H
RUT_F10: MOV FLAG, 1
          
          MOV BX, OFFSET MSJ2
          MOV AL, OFFSET FIN2- OFFSET MSJ2
          INT 7
          
         MOV AL, 20H
         OUT EOI, AL
        
IRET


ORG 3000H
MANEJADOR:  MOV AL,0 
            OUT CONT, AL ; CON ESTE PASO, RESETEO EL RELOJ
            
            MOV BX, OFFSET MSJ
            MOV AL, OFFSET FIN- OFFSET MSJ
            INT 7
            
            MOV AL, 20H
            OUT EOI,AL
         
 IRET
 
ORG 100
IP_INT1 DW 3000H

ORG 60 ; 15 X 4 = 60 
IP_INT0 DW 3200H
ORG 2000H
 
 CLI
 ; CONF IMR
 MOV AL, 0FCH; HABILITO INT DE F10 Y TIMER / 1111 1100
 OUT IMR,AL 
 ; CONFIGURE INT F10
 MOV AL, 15 
 OUT INT0, AL
 
 ; CONF INT TIMER
 MOV AL, 25 ; ELIJO UN NUM PARA LA INT 
 OUT INT1, AL ; (TENER EN CUENTA QUE EK VAKIR Q PONEMOS SE MULTIPLICA POR 4)

 ; CONF TIMER
  ; INICIALIZO CONTADOR EN 0
  MOV AL,0
  OUT CONT, AL
 
  ; INICIALIZO COMPARADOR EN 5 PARA QUE VAYA DE A 5 SEG
   MOV AL,5
   OUT COMP, AL 

 STI
 
LAZO: CMP FLAG, 1
      JNZ LAZO
END
